# Workout Logging Flow - Visual Guide

## User Journey Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WORKOUT LOGGING FLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. TODAY'S WORKOUT PAGE (/today-workout)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ğŸ”¥ 5 day streak â€¢ 23 total workouts                â”‚
   â”‚                                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚  Ready to crush it?                            â”‚ â”‚
   â”‚  â”‚  6 exercises waiting for you                   â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚                    [â–¶ Start Workout]           â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                                      â”‚
   â”‚  Today's Exercises              [View History]      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ ğŸ’ª Bench Press                                 â”‚ â”‚
   â”‚  â”‚ âš¡ 4 sets â€¢ 8 reps â€¢ Rest: 90s                 â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ ğŸ’ª Squat                                       â”‚ â”‚
   â”‚  â”‚ âš¡ 5 sets â€¢ 5 reps â€¢ Rest: 120s                â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ User clicks "Start Workout"
                          â–¼

2. LOG WORKOUT PAGE (/log-workout)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  [â¬… Cancel]          Log Workout                     â”‚
   â”‚                                                      â”‚
   â”‚  âš¡âš¡âš¡âšªâšªâšª 3/6 exercises completed              â”‚
   â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âšªâšªâšªâšªâšªâšª (50%)              â”‚
   â”‚                                                      â”‚
   â”‚  Duration: 24:15 â€¢ Started: 2:30 PM                 â”‚
   â”‚                                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚  [Perform] [Details]                           â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  Bench Press (1/6)                             â”‚ â”‚
   â”‚  â”‚  Target: 4 sets Ã— 8 reps @ 80kg               â”‚ â”‚
   â”‚  â”‚  Rest: 90s between sets                        â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
   â”‚  â”‚  â”‚  SET 1   âœ“ 8 reps â€¢ 80kg â€¢ 2s            â”‚ â”‚ â”‚
   â”‚  â”‚  â”‚  SET 2   âœ“ 8 reps â€¢ 80kg â€¢ 2s            â”‚ â”‚ â”‚
   â”‚  â”‚  â”‚  SET 3   âœ“ 7 reps â€¢ 80kg â€¢ 2s            â”‚ â”‚ â”‚
   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  Add Next Set:                                 â”‚ â”‚
   â”‚  â”‚  Reps: [âˆ’] 8 [+]  Load: [âˆ’] 80 [+]kg         â”‚ â”‚
   â”‚  â”‚  Time: [âˆ’] 2 [+]s  â–¡ Warmup Set              â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  [Copy Previous]        [Add Set +]           â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  â± Rest Timer: 01:30                          â”‚ â”‚
   â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âšªâšªâšªâšª (60%)             â”‚ â”‚
   â”‚  â”‚  [Skip Rest]                                   â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  RPE (Rate of Perceived Exertion)             â”‚ â”‚
   â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”¤ 7/10                      â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  Notes:                                        â”‚ â”‚
   â”‚  â”‚  [Felt strong today, good form on...        ] â”‚ â”‚
   â”‚  â”‚                                                â”‚ â”‚
   â”‚  â”‚  [â¬… Previous]  [Mark as Done âœ“]  [Next â¡]    â”‚ â”‚
   â”‚  â”‚  [Skip Exercise]                               â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ User marks all exercises done
                          â”‚ and clicks "Finish & Review"
                          â–¼

3. SESSION SUMMARY (within LogWorkout)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Review Your Workout                                 â”‚
   â”‚                                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
   â”‚  â”‚    5     â”‚  â”‚  2,400   â”‚  â”‚    1     â”‚          â”‚
   â”‚  â”‚Completed â”‚  â”‚Total Vol â”‚  â”‚ Skipped  â”‚          â”‚
   â”‚  â”‚Exercises â”‚  â”‚   (kg)   â”‚  â”‚          â”‚          â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
   â”‚                                                      â”‚
   â”‚  Exercises Completed:                               â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ âœ… Bench Press                      [Edit âœ]  â”‚ â”‚
   â”‚  â”‚ Target: 4Ã—8 @ 80kg â€¢ Actual: 4Ã—8 @ 80kg       â”‚ â”‚
   â”‚  â”‚ Sets: 8,8,7,8 reps â€¢ RPE: 7/10                â”‚ â”‚
   â”‚  â”‚ Notes: Felt strong today...                   â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ âœ… Squat                            [Edit âœ]  â”‚ â”‚
   â”‚  â”‚ Target: 5Ã—5 @ 100kg â€¢ Actual: 5Ã—5 @ 100kg     â”‚ â”‚
   â”‚  â”‚ Sets: 5,5,5,5,5 reps â€¢ RPE: 8/10              â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                                      â”‚
   â”‚  Skipped:                                           â”‚
   â”‚  âŒ Leg Extensions (Not feeling it today)           â”‚
   â”‚                                                      â”‚
   â”‚  Total Duration: 45:23                              â”‚
   â”‚                                                      â”‚
   â”‚  [â¬… Back to Workout]        [Submit Workout âœ“]     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ User clicks "Submit Workout"
                          â–¼

4. SUBMISSION & SUCCESS
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                                                      â”‚
   â”‚              ğŸ‰ Workout Logged!                     â”‚
   â”‚                                                      â”‚
   â”‚         Great job! Your streak is now 6 days        â”‚
   â”‚                                                      â”‚
   â”‚                  [View Dashboard]                    â”‚
   â”‚                                                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ Redirects to Dashboard
                          â–¼

5. WORKOUT HISTORY PAGE (/workout-history)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Workout History                                     â”‚
   â”‚                                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”            â”‚
   â”‚  â”‚  45  â”‚  â”‚  6   â”‚  â”‚15.2k â”‚  â”‚ 42m  â”‚            â”‚
   â”‚  â”‚Total â”‚  â”‚Streakâ”‚  â”‚ Vol  â”‚  â”‚ Avg  â”‚            â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜            â”‚
   â”‚                                                      â”‚
   â”‚  Show: [Last 7 Days â–¼]                              â”‚
   â”‚                                                      â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ Today â€¢ Push Day                               â”‚ â”‚
   â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âšª 83% complete            â”‚ â”‚
   â”‚  â”‚ 2,400kg â€¢ 45 min        [View Details â¡]      â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚  â”‚ Yesterday â€¢ Leg Day                            â”‚ â”‚
   â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% complete          â”‚ â”‚
   â”‚  â”‚ 3,200kg â€¢ 52 min        [View Details â¡]      â”‚ â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture

```
App.jsx
  â””â”€ Routes
      â”œâ”€ /today-workout â†’ TodayWorkout.jsx
      â”‚   â””â”€ PageContainer
      â”‚       â”œâ”€ Streak Badge (from streakStore)
      â”‚       â”œâ”€ Start Workout Button â†’ navigate('/log-workout')
      â”‚       â”œâ”€ Exercise List (from dailySessionStore)
      â”‚       â””â”€ View History Link â†’ navigate('/workout-history')
      â”‚
      â”œâ”€ /log-workout â†’ LogWorkout.jsx
      â”‚   â””â”€ PageContainer
      â”‚       â”œâ”€ Progress Bar (completed/total)
      â”‚       â”œâ”€ Exercise Navigation (prev/next)
      â”‚       â”œâ”€ ExerciseTracker.jsx
      â”‚       â”‚   â”œâ”€ Tabs (Perform / Details)
      â”‚       â”‚   â”œâ”€ Completed Sets List
      â”‚       â”‚   â”œâ”€ SetLogger.jsx
      â”‚       â”‚   â”‚   â”œâ”€ Input fields (reps, load, time)
      â”‚       â”‚   â”‚   â”œâ”€ Rest Timer
      â”‚       â”‚   â”‚   â””â”€ Quick Actions
      â”‚       â”‚   â”œâ”€ RPE Slider
      â”‚       â”‚   â”œâ”€ Notes Textarea
      â”‚       â”‚   â””â”€ Action Buttons (done/skip)
      â”‚       â”‚
      â”‚       â””â”€ SessionSummary.jsx (conditionally shown)
      â”‚           â”œâ”€ Summary Stats Cards
      â”‚           â”œâ”€ Exercise Detail List
      â”‚           â””â”€ Submit Button
      â”‚
      â””â”€ /workout-history â†’ WorkoutHistory.jsx
          â””â”€ PageContainer
              â”œâ”€ Stats Overview Cards
              â”œâ”€ Date Range Filter
              â”œâ”€ Session List
              â””â”€ Detail Modal
```

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       STATE FLOW DIAGRAM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TodayWorkout Page:
  dailySessionStore.getTodaySession()
    â†’ GET /api/daily-session/today
    â†’ Updates dailySessionStore.todaySession

  streakStore.getStreak()
    â†’ GET /api/streaks/current
    â†’ Updates streakStore.streak

LogWorkout Page:
  On Mount:
    dailySessionStore.getTodaySession() (if not already loaded)

  On Set Completion:
    Local state update (entries array)
    â†’ Passed to ExerciseTracker
    â†’ Passed to SetLogger

  On Submit:
    sessionLogStore.submitSessionLog(date, entries)
      â†’ POST /api/session/:date/log
      â†’ Updates backend session log
      â†’ Triggers streak update
      â†’ Redirects to dashboard

WorkoutHistory Page:
  On Mount:
    sessionLogStore.getSessionHistory() (TODO: implement)
      â†’ GET /api/session-logs/history (TODO: create endpoint)
      â†’ Updates sessionLogStore.history

  Currently:
    Uses mock data for demonstration

Store Dependencies:
  LogWorkout â†’ dailySessionStore (read)
  LogWorkout â†’ sessionLogStore (write)
  TodayWorkout â†’ dailySessionStore (read)
  TodayWorkout â†’ streakStore (read)
  WorkoutHistory â†’ sessionLogStore (read, pending)
```

## Data Flow: Set Logging

```
User Input (SetLogger)
  â”‚
  â”œâ”€ Reps: 8
  â”œâ”€ Load: 80kg
  â”œâ”€ Time: 2s
  â””â”€ Warmup: false
  â”‚
  â–¼
SetLogger.handleAddSet()
  â”‚
  â–¼
ExerciseTracker.handleAddSet()
  â”‚  Creates set object:
  â”‚  {
  â”‚    reps: 8,
  â”‚    load_kg: 80,
  â”‚    time_seconds: 2,
  â”‚    is_warmup: false
  â”‚  }
  â”‚
  â–¼
LogWorkout state update
  entries[exerciseIndex].sets.push(newSet)
  â”‚
  â–¼
When exercise marked "Done":
  entries[exerciseIndex].status = 'done'
  entries[exerciseIndex].rpe = 7
  entries[exerciseIndex].notes = "Felt strong..."
  â”‚
  â–¼
On "Finish & Review":
  SessionSummary displays all entries
  â”‚
  â–¼
On "Submit Workout":
  sessionLogStore.submitSessionLog(date, entries)
  â”‚
  â–¼
Backend API:
  POST /api/session/:date/log
  {
    date: "2025-01-15",
    entries: [
      {
        exerciseId: "abc123",
        sets: [
          { reps: 8, load_kg: 80, time_seconds: 2, is_warmup: false },
          { reps: 8, load_kg: 80, time_seconds: 2, is_warmup: false },
          ...
        ],
        status: "done",
        rpe: 7,
        notes: "Felt strong today..."
      },
      ...
    ]
  }
  â”‚
  â–¼
Backend Processing:
  1. Validates session exists for date
  2. Validates all exercise IDs
  3. Creates SessionLog document
  4. Creates individual SetLog documents
  5. Updates user's streak
  6. Checks for milestone achievements
  7. Returns success response
  â”‚
  â–¼
Frontend Response:
  Success: Toast notification + redirect
  Error: Toast notification + stay on page
```

## REST API Endpoints Used

### Daily Session (Read Only)

```
GET /api/daily-session/today
  â†’ Returns today's planned workout with exercises

GET /api/daily-session/:date
  â†’ Returns workout for specific date
```

### Session Logging (Write)

```
POST /api/session/:date/log
  Body: { entries: [...] }
  â†’ Logs completed workout
  â†’ Triggers streak update
  â†’ Returns success/failure

GET /api/session/:date (TODO: verify endpoint exists)
  â†’ Returns logged session for date
```

### Streaks (Read Only for UI)

```
GET /api/streaks/current
  â†’ Returns current streak data
  â†’ Used for motivation display

GET /api/streaks/summary
  â†’ Detailed streak information
```

### History (TODO: Needs Implementation)

```
GET /api/session-logs/history?dateRange=7
  â†’ Returns past workout sessions
  â†’ Currently not implemented
  â†’ WorkoutHistory uses mock data
```

## Key Features Implemented

### 1. **Rest Timer**

-   Automatic countdown after each set
-   Visual progress bar
-   Skip option
-   Configurable rest duration per exercise
-   Audio cue when complete (TODO)

### 2. **RPE Tracking**

-   Slider from 1-10
-   Visual feedback
-   Stored with each exercise
-   Used for future progression

### 3. **Set Management**

-   Add sets one at a time
-   Copy from previous set
-   Remove sets
-   Mark as warmup
-   Quick actions (+2.5kg, reset)

### 4. **Progress Tracking**

-   Visual progress bar
-   Exercise count indicator
-   Status badges (done/skipped/pending)
-   Duration timer

### 5. **Streak Motivation**

-   Current streak display
-   Total workouts count
-   Fire emoji visual
-   Motivational messaging

### 6. **Validation**

-   Prevent empty submissions
-   Require at least one completed exercise
-   Confirm cancel action
-   Validate set data before submission

## Mobile Responsiveness

All components use DaisyUI classes for mobile-first design:

-   Cards stack vertically on mobile
-   Buttons scale appropriately
-   Stats cards use flexbox grid
-   Navigation simplified on small screens
-   Modals cover full screen on mobile

## Error Handling

```
Network Errors:
  â†’ Toast notification
  â†’ Keep user on current page
  â†’ Preserve entered data

Validation Errors:
  â†’ Inline error messages
  â†’ Prevent submission
  â†’ Highlight invalid fields

Backend Errors:
  â†’ Display error message from API
  â†’ Log to console
  â†’ Clear loading states

Session Not Found:
  â†’ Redirect to today's workout
  â†’ Show "No workout planned" message
```

## Performance Considerations

-   âœ… Lazy load workout history data
-   âœ… Debounce search/filter inputs
-   âœ… Optimize re-renders with React.memo (if needed)
-   âœ… Use loading skeletons for better UX
-   âŒ Service worker for offline support (TODO)
-   âŒ IndexedDB for draft workouts (TODO)

---

**This diagram shows the complete user journey from viewing today's workout to logging it and reviewing history.**
